import React from "react";
import * as Dapp from "@elrondnetwork/dapp";
import { Navbar as BsNavbar, NavItem, Nav } from "react-bootstrap";
import { Link, Route, Switch, useHistory } from "react-router-dom";
import { dAppName } from "config";
// import { ReactComponent as ElrondLogo } from "./../../../assets/img/elrond.svg";

const Navbar = () => {
  const { loggedIn } = Dapp.useContext();
  const dappLogout = Dapp.useLogout();
  const history = useHistory();

  const logOut = (e: React.MouseEvent) => {
    e.preventDefault();
    dappLogout({ callbackUrl: `${window.location.origin}/` });
    history.push("/");
  };

  return (
    <BsNavbar className="p-3">
      <div className="container-fluid">
        <Link
          className="d-flex align-items-center navbar-brand mr-0 w-100"
          to={loggedIn ? "/dashboard" : "/"}
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="40"
            height="40"
            viewBox="0 0 138 138"
            className="dapp-logo"
            fill="currentColor"
          >
            <path
              d="M115.458015,136.749061 C108.490957,135.97314 100.493005,132.902477 92.3723976,127.930559 C83.9539185,132.896427 75.6975466,135.771687 68.6404742,136.113121 C83.1376886,144.127238 100.793701,144.339218 115.458015,136.749061 Z M126.523203,128.929855 C126.936112,128.543858 127.344038,128.149495 127.746767,127.746767 C128.149495,127.344038 128.543858,126.936112 128.929855,126.523203 C132.876393,120.749957 130.962822,109.913607 124.284935,98.0407045 C120.913765,102.879093 116.888017,107.694421 112.291219,112.291219 C107.694421,116.888017 102.879093,120.913765 98.0407045,124.284935 C109.913607,130.962822 120.749957,132.876393 126.523207,128.929853 Z M136.749061,115.458015 C144.339218,100.793701 144.127238,83.1376886 136.113121,68.640481 C135.771687,75.6975466 132.896427,83.9539185 127.930559,92.3723976 C132.902477,100.493005 135.97314,108.490957 136.749061,115.458015 Z M68.8595374,49.0535221 C75.8970423,49.4802489 84.1155651,52.3985986 92.5079645,57.3722366 C100.975894,52.3350474 109.290947,49.4067412 116.398783,49.0378625 C101.626781,40.9821627 83.6273566,40.9873825 68.8595374,49.0535221 Z M49.0535221,68.8595374 C40.9873825,83.6273566 40.9821627,101.626781 49.0378625,116.398783 C49.4067412,109.290947 52.3350474,100.975894 57.3722366,92.5079645 C52.3985986,84.1155651 49.4802489,75.8970423 49.0535221,68.8595374 Z M61.0605312,86.8192798 C64.3905771,82.077086 68.3481075,77.3607517 72.8544296,72.8544296 C77.3607517,68.3481075 82.077086,64.3905771 86.8192798,61.0605312 C74.4047416,54.3449698 63.2721237,52.9345182 58.103321,58.103321 C52.9345182,63.2721237 54.3449698,74.4047416 61.0605312,86.8192798 Z M133.606444,130.304344 C133.147654,130.931201 132.63993,131.524614 132.082272,132.082272 C131.524614,132.63993 130.931201,133.147654 130.304344,133.606444 C108.47454,153.705471 74.4746565,153.166458 53.2976058,131.989408 C31.5674647,110.259267 31.5674647,75.0277468 53.2976058,53.2976058 C75.0277468,31.5674647 110.259267,31.5674647 131.989408,53.2976058 C153.166458,74.4746565 153.705471,108.47454 133.606446,130.304342 Z M86.7527933,124.197281 C82.1711956,120.913164 77.6170877,117.053877 73.2530812,112.689871 C68.5767138,108.013503 64.4799042,103.118847 61.0493387,98.2059899 C54.3241293,110.608791 52.9340406,121.78694 58.1463747,126.999274 C63.3325187,132.185418 74.4246763,130.835322 86.7527933,124.197281 Z M92.4276889,120.81863 C97.6549679,117.410381 102.973202,113.123955 108.048578,108.048578 C113.123955,102.973202 117.410381,97.6549679 120.81863,92.4276889 C117.454316,87.4253865 113.304696,82.3531882 108.44723,77.4957219 C103.265257,72.3137487 97.8389025,67.9373576 92.5137351,64.4605927 C87.352234,67.8470207 82.106365,72.0877756 77.0970703,77.0970703 C72.0877756,82.106365 67.8470207,87.352234 64.4605927,92.5137351 C67.9373576,97.8389025 72.3137487,103.265257 77.4957219,108.44723 C82.3531882,113.304696 87.4253865,117.454316 92.4276889,120.81863 Z M124.197281,86.7527933 C130.835322,74.4246763 132.185418,63.3325187 126.999274,58.1463747 C121.78694,52.9340406 110.608791,54.3241293 98.2059899,61.0493387 C103.118847,64.4799042 108.013503,68.5767138 112.689871,73.2530812 C117.053877,77.6170877 120.913164,82.1711956 124.197281,86.7527933 Z M35.9307187,124.939197 C34.4006476,125.560606 32.6697453,125.09171 31.8271827,123.336874 C22.3450846,103.812159 22.4777734,80.5676144 32.9762573,61.4396318 C33.6506866,59.9321797 35.6151182,59.3193951 37.1255704,60.0011765 C37.3394809,60.2226873 37.5533913,60.444198 37.7673017,60.6657088 C38.6229435,61.5517517 38.8172351,63.0764531 38.3632558,64.3710191 C29.1940118,81.7872879 28.873571,103.072735 37.5131066,120.842612 C38.1417587,122.375938 37.4673294,123.883391 35.9307187,124.939197 Z M148.168088,60.0476255 C149.67554,59.3731961 151.421752,59.7813982 152.325045,61.5057609 C162.482769,80.687661 163.161384,103.922677 153.336853,123.405399 C152.715443,124.93547 150.773594,125.616439 149.240268,124.987787 C149.018758,124.773876 148.797247,124.559966 148.575736,124.346055 C147.689693,123.490414 147.442309,121.973422 147.850832,120.663801 C156.406671,102.938139 155.984065,81.654476 146.729633,64.1969387 C146.047851,62.6864864 146.669261,61.1564153 148.168088,60.0476255 Z M62.124925,31.7853755 C81.6093153,21.7984172 104.750413,21.9691986 123.979835,31.6637733 C125.492491,32.3096248 126.137492,34.2548324 125.485688,35.7700394 C124.833884,37.2852463 122.886126,37.9379007 121.37347,37.2920492 C103.656703,28.2433259 82.6775142,28.5008445 65.141733,37.4025966 C64.0590779,38.0535502 62.5455717,37.8402506 61.4663181,36.7609969 C61.2504673,36.5451462 61.0346166,36.3292955 60.8187659,36.1134448 C59.9570637,34.3849382 60.6097181,32.4371795 62.124925,31.7853755 Z M124.184624,154.069389 C104.88683,163.809541 81.6723569,163.998786 62.3512507,154.212527 C62.1340315,153.995308 61.7001113,153.99479 61.4828922,153.777571 C60.6140156,152.908694 60.3952423,151.389715 60.8276084,150.088472 C61.4766756,148.570528 63.4285396,147.921979 64.9480375,148.574673 C82.5324267,157.491018 103.794518,157.516402 121.357667,148.642018 C122.875611,147.992951 124.61181,148.428944 125.481723,150.165661 C126.351117,151.468458 125.919269,153.20362 124.184624,154.069389 Z M43.5,51.5 C38.5294373,51.5 34.5,47.4705627 34.5,42.5 C34.5,37.5294373 38.5294373,33.5 43.5,33.5 C48.4705627,33.5 52.5,37.5294373 52.5,42.5 C52.5,47.4705627 48.4705627,51.5 43.5,51.5 Z M43.5,46.5 C45.709139,46.5 47.5,44.709139 47.5,42.5 C47.5,40.290861 45.709139,38.5 43.5,38.5 C41.290861,38.5 39.5,40.290861 39.5,42.5 C39.5,44.709139 41.290861,46.5 43.5,46.5 Z M143.5,51.5 C138.529437,51.5 134.5,47.4705627 134.5,42.5 C134.5,37.5294373 138.529437,33.5 143.5,33.5 C148.470563,33.5 152.5,37.5294373 152.5,42.5 C152.5,47.4705627 148.470563,51.5 143.5,51.5 Z M143.5,46.5 C145.709139,46.5 147.5,44.709139 147.5,42.5 C147.5,40.290861 145.709139,38.5 143.5,38.5 C141.290861,38.5 139.5,40.290861 139.5,42.5 C139.5,44.709139 141.290861,46.5 143.5,46.5 Z M43.5,151.5 C38.5294373,151.5 34.5,147.470563 34.5,142.5 C34.5,137.529437 38.5294373,133.5 43.5,133.5 C48.4705627,133.5 52.5,137.529437 52.5,142.5 C52.5,147.470563 48.4705627,151.5 43.5,151.5 Z M43.5,146.5 C45.709139,146.5 47.5,144.709139 47.5,142.5 C47.5,140.290861 45.709139,138.5 43.5,138.5 C41.290861,138.5 39.5,140.290861 39.5,142.5 C39.5,144.709139 41.290861,146.5 43.5,146.5 Z M143.5,151.5 C138.529437,151.5 134.5,147.470563 134.5,142.5 C134.5,137.529437 138.529437,133.5 143.5,133.5 C148.470563,133.5 152.5,137.529437 152.5,142.5 C152.5,147.470563 148.470563,151.5 143.5,151.5 Z M143.5,146.5 C145.709139,146.5 147.5,144.709139 147.5,142.5 C147.5,140.290861 145.709139,138.5 143.5,138.5 C141.290861,138.5 139.5,140.290861 139.5,142.5 C139.5,144.709139 141.290861,146.5 143.5,146.5 Z"
              transform="translate(-24 -24)"
            />
          </svg>
          <span className="dapp-name text-secondary">{dAppName}</span>
        </Link>

        <Nav className="ml-auto">
          {loggedIn && (
            <NavItem>
              <a href="/" onClick={logOut} className="btn text-white">
                Logout
              </a>
            </NavItem>
          )}
        </Nav>
      </div>
    </BsNavbar>
  );
};

export default Navbar;
